name: node js CI

on:
    push:
        branches: [ master ]

jobs:
    deploy:
        runs-on: self-hosted

    strategy:
        matrix:
            node-version: [8.17.0, 10.20.1, 12.16.2, 13.x]

     steps:
     - uses: actions/checkout@v2
     - name: Use Node.js ${{ matrix.node-version }}
       uses: actions/setup-node@v2
       with:
         node-version: ${{ matrix.node-version }}
     - run: npm install
     - run: npm run build --if-present
     - run: npm test
